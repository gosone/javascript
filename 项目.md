## 十八周年盘点页
```
1. 动画：动画的流畅度，更改背景花纹的颜色透明度的变化。
2. 项目中出现的问题：1.分工，2.ui和pm沟通
3. 图片：获取图片文件的图片列表，然后不断发送图片的请求。
对于图片来说，常见的两种方式：
1.直接请求base64编码。适合长期不更新的小图片，减少了一次http的请求。
2.请求图片的url，然后再发送一次http请求。
```

## 前端传输图片
```
前端上传图片到服务器，一般会有两种方式：
1. Base64编码
2. FormData文件流
首先，如果图片转为 Base64 后，除了体积会增大33%左右外，更大的问题是，你以为你是在以字符串的格式传输二进制。
其实非也，尤其是你把它转为 JSON 传给后端，由于变成了需要解析的字符串，对后端的压力会陡增，你会明显看到处理速度的急剧下滑。以及，你还需要去调 nginx 配置文件以避免 nginx 觉得你字符串过长，直接报错 Entity Too Large 把包拒掉。
所以，Base64 更适合用来处理小图，比如头像或小图标之类，保存在本地，以减少 Http 的请求次数；而大图比较适合用 FormData 文件流来传输。
```
## 组件库
1. toast
```
vue3的context的使用：http://www.jsopy.com/2020/09/21/vue16/
context.root.$tbvToast.success('这是一条成功的消息');
绑定了一个vue的全局方法，为tbtoast，通过this或者context.root调用
每次调用这个toast全局方法的时候，都会创建一个组件实例，将每一个toast实例动态挂载到页面上（vue.expend, $mount()），会有一个存放toast的数组判断数量，如果数量超过5个则会删掉前面的。
组件的内部，在创建的时候会执行一个setTimeout函数，时间到了，就会触发自身的remove函数，就是将visiable设置为false。
改变方式之后模式更像是组件库的概念，每一个toast是一个组件，而不是所有的toast构成了一个组件挂载在页面上。
```
2. checkbox组件
checkbox和checkboxbutton的script代码部分有重复，需要优化。

## 移动端适配
1. 物理像素，css像素（逻辑像素）
物理像素：屏幕实际拥有的像素点
正常情况下 1css = 1物理像素
对于高精密的屏幕: css的1px不等于设备的1px，1css = 2物理像素，DPR=2
2. 响应式布局
```
<link href="print.css" media="value"> 设置什么样的media对应哪一套样式
css 语法：
    @media screen and (max-width:900px)
    {
        .div_test{
            border: double 1px #0cf60a;
            border-radius:5px;
        }
    }
```
flexible，根据屏幕的dpr和屏幕width动态改变html的font-size（即1rem的大小）和scale比例，改变html的fontsize来实现不同设备的自适应。
## ts
静态解析阶段会进行类型检查，是强类型语言

## vue3的升级
* 数据劫持：object.defineproperty -> proxy
* 按需编译

```
十八周年盘点页
1. 项目中出现的问题：
	(1). 分工 
	(2). ui和pm沟通  
	(3). 动画流畅度

2. 问题解决
（1）分工：我负责页面动画开发，另一位同学负责项目的调起打点和首页的开发。
（2）ui和pm沟通：
	及时和ui沟通动效，制定好适配的方案
	和pm对好极限状态下的方案（比如文字数量最多和最少的情况），并且把极限状态的情况发给ui，及时做好极限状况的样式设计。
（3）动画的流畅度问题解决：
	1）更改背景花纹的颜色透明度的变化，离开页面背景透明度1->0，进入页面背景透明度0->1；
	2）profetch预加载页面图片资源，之后页面调用资源直接调用缓存。
	3）当前页面元素的出场效果要和下一个页面的入场效果相互配合，提升用户视觉体验感。
      
组件库
组件库的设计：
1. 设计风格。
2.props, slot, event的三个方面设计。
	（1）props：用户传入的数值，改变组件的状态和样式
	（2）slot：支持用户加入新的组件。
	（3）event：向外传值，触发回调。
2. 因为是贴吧内部使用，所以有很明显的贴吧风格，去掉了一些贴吧不使用的功能，降低开发成本。
3.可以全量引入或者按需引入

遇到的问题：
（1）. toast
	绑定了一个vue的全局方法，为tbtoast，通过this或者context.root调用
	遇到的问题：
		toast组件内部使用li遍历用户传入的数组，设计感觉更像整个页面内的所有toast提示条是一个toast组件。
	解决方案：
	每次调用这个toast全局方法的时候，都会创建一个组件实例，将每一个toast实例动态挂载到页面上（vue.expend, $mount()），会有一个存放toast的数组判断数量，如果数量超过5个则会删掉前面的。组件的内部，在创建的时候会执行一个setTimeout函数，时间到了，就会触发自身的remove函数，将visiable设置为false。改变方式之后模式更像是组件库的概念，每一个toast是一个组件，而不是所有的toast构成了一个组件挂载在页面上。

（2）. checkbox组件
问题：checkbox和checkboxbutton的script代码部分有重复，需要优化。

（3）. input组件
	问题：input种类较多，如何设计？开源参考的组件库支持的功能繁多，但是对于贴吧产品来说利用率较低，需要调研贴吧内部的需求。
	1）根据props值返回对应的input组件模版
		基础input
		有前后缀input(支持slot，特定的icon、select等)
		组合input（支持slot）
	2）支持清空，传入回调，文字计数功能。
```
## 如何通过埋点查看页面错误信息
* error
* promise
* 页面白屏时间
